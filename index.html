<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ðŸŽ¬ Watch Together</title>
<style>
  /* ===== Base Styling ===== */
  body {
    font-family: "Poppins", sans-serif;
    background: linear-gradient(120deg, #0b1c3b 60%, #2a2a6f);
    color: #fff;
    margin: 0;
    padding: 20px;
    overflow: hidden;
  }

  main {
    max-width: 900px;
    margin: auto;
    text-align: center;
    position: relative;
    z-index: 10;
  }

  h1 {
    font-size: 2.5em;
    color: #ff9fdc;
    text-shadow: 0 0 15px #ff80bf;
    animation: glowText 2.5s ease-in-out infinite alternate;
  }

  @keyframes glowText {
    from { text-shadow: 0 0 10px #ff80bf; }
    to { text-shadow: 0 0 25px #ffb7e2; }
  }

  p { color: #ddd; }

  /* ===== Video Section ===== */
  .video-wrap {
    position: relative;
    width: 100%;
    background: rgba(0,0,0,0.5);
    border: 2px solid rgba(255,192,203,0.3);
    border-radius: 12px;
    overflow: hidden;
    margin-top: 15px;
    box-shadow: 0 0 20px rgba(255,105,180,0.3);
  }

  video {
    width: 100%;
    height: auto;
    background: #000;
  }

  button, input {
    margin: 5px; padding: 8px 14px;
    border-radius: 6px; border: none;
    cursor: pointer;
    background: #243b72;
    color: #fff;
    font-size: 15px;
    box-shadow: 0 0 10px rgba(255,105,180,0.4);
    transition: all 0.3s;
  }

  button:hover {
    background: #355ec9;
    box-shadow: 0 0 15px rgba(255,105,180,0.7);
  }

  input {
    background: #1a1a40;
    color: #fff;
    border: 1px solid #555;
  }

  #fullscreenBtn {
    position: absolute;
    bottom: 10px;
    right: 10px;
    background: rgba(255,255,255,0.2);
    color: white;
    font-size: 20px;
    border-radius: 6px;
    padding: 6px 10px;
  }

  #fullscreenBtn:hover {
    background: rgba(255,255,255,0.4);
  }

  /* ===== Floating Hearts ===== */
  .heart {
    position: fixed;
    bottom: -20px;
    color: #ff80bf;
    font-size: 20px;
    animation: floatHearts 6s linear infinite;
    opacity: 0.7;
    z-index: 1;
  }

  @keyframes floatHearts {
    0% { transform: translateY(0) translateX(0) scale(1); opacity: 0.9; }
    50% { opacity: 1; }
    100% { transform: translateY(-120vh) translateX(calc(-50px + 100vw * var(--x))) scale(0.8); opacity: 0; }
  }
</style>
</head>
<body>

<!-- â¤ï¸ Floating Hearts -->
<script>
  setInterval(() => {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.textContent = 'â¤';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (4 + Math.random() * 3) + 's';
    heart.style.setProperty('--x', Math.random());
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 7000);
  }, 500);
</script>

<!-- ðŸŒ¸ Main App -->
<main>
  <h1>ðŸŽ¥ Watch Together</h1>
  <p>Share your screen + voice and enjoy together ðŸ’¬</p>

  <input id="roomIdInput" placeholder="Enter room ID..." />
  <div>
    <button id="createBtn">Create & Start</button>
    <button id="joinBtn">Join Room</button>
    <button id="hangupBtn">Hang Up</button>
  </div>

  <h3>Remote Stream (movie + voice)</h3>
  <div class="video-wrap">
    <video id="remoteVideo" autoplay playsinline></video>
    <button id="fullscreenBtn">â›¶</button>
  </div>

  <h3>Your Preview</h3>
  <div class="video-wrap">
    <video id="localVideo" autoplay muted playsinline></video>
  </div>

  <p id="status">Status: idle</p>

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script src="app.js"></script>
</main>
</body>
</html>

